<template name="enviroment">
  
  <!-- modals template for issue modal  -->
  {{> eventModals}}

  <div class="flex-box justify-content-between">
    <div class="flex-box-1 site-sidenav">
      {{> accordionNavMenu (createNavMenuArgs childNodeRequested) }}
    </div>
    <div class="flex-box-3 main-layout-no-nav">
        {{>d3graph}}
    <div class="mainContentData flex">
        <div class="flex-box-1 cards white title">
          <h4>Enviroment name: {{envName}}</h4>
        </div>
      </div>
      <div class="mainContentData flex-box justify-content-between">
        <div class="cards-w250 white blue-text flex-box-1">
          <div class="flex-box ">
            <div class="flex-box-1">
              <i class="fa fa-desktop"></i>
            </div>
            <div class="flex-box-2">
            <p>Number of instances <br> <span>{{instancesCount}}</span></p>
            </div>
          </div>
        </div>
        <div class="cards-w250 white blue-text flex-box-1">
          <div class="flex-box ">
            <div class="flex-box-1">
              <i class="fa fa-object-group"></i>
            </div>
            <div class="flex-box-2">
            <p>Number of vServices <br> <span>{{vservicesCount}}</span></p>
            </div>
          </div>
        </div>
        <div class="cards-w250 white blue-text flex-box-1">
          <div class="flex-box ">
            <div class="flex-box-1">
              <i class="fa fa-server" aria-hidden="true"></i>
            </div>
            <div class="flex-box-2">
            <p>Number of hosts <br> <span>{{hostsCount}}</span></p>
            </div>
          </div>
        </div>
        <div class="cards-w250 white blue-text flex-box-1">
          <div class="flex-box ">
            <div class="flex-box-1">
              <i class="fa fa-compress"></i>
            </div>
            <div class="flex-box-2">
            <p>Number of vConnectors <br> <span>{{vconnectorsCount}}</span></p>
            </div>
          </div>
        </div>
      </div>
      <div class="mainContentData flex-box justify-content-between">
        <div class="cards-flex-col-h120 white not-active green-text flex-box-1">
          <div class="flex-box ">
            <div class="flex-box-1">
              <i class="material-icons">notifications</i>
            </div>
            <div class="flex-box-2">
              <h5>Notification</h5>
              <p>Total: {{notificationsCount}}</p>
              <p>Timestamp: 4/4/2016 5:40pm</p>
              <a href="#" data-toggle="modal" data-target="#notification">More details</a>
            </div>
          </div>
        </div>
        <div class="cards-flex-col-h120 white not-active orange-text flex-box-1" style="margin: 0px 10px;">
          <div class="flex-box ">
            <div class="flex-box-1">
              <i class="material-icons">warning</i>
            </div>
            <div class="flex-box-2">
              <h5>Warning</h5>
              <p>Total: {{warningsCount}}</p>
              <p>Timestamp: 4/4/2016 5:40pm</p>
              <a href="#" data-toggle="modal" data-target="#issue">More details</a>
            </div>
          </div>
        </div>
        <div class="cards-flex-col-h120 white red-text flex-box-1">
          <div class="flex-box ">
            <div class="flex-box-1">
              <i class="material-icons">error</i>
            </div>
            <div class="flex-box-2">
              <h5>Error</h5>
              <p class="active">Total: {{errorsCount}}</p>
              <p>Timestamp: 4/4/2016 5:40pm</p>
              <a href="#" data-toggle="modal" data-target="#error">More details</a>
            </div>
          </div>
        </div>
      </div>

      <!-- flex box for regions and projects -->
      <div class="mainContentData flex-box justify-content-between">

        <div class="cards-450 white flex-box-1">
          <div class="flex-box ">
            <div class="flex-box-1">
              <i class="material-icons">public</i>
            </div>
            <div class="flex-box-2">
            <h3>Regions</h3>
            <table class="table table-striped">
              <tbody>
                <tr>
                  <th>Last Scanning</th>
                  <td> {{ regionItem.last_scanned }} </td>
                </tr>
                <tr>
                  <th>Number of Regions:</th>
                  <td> {{regoinsCount}}</td>
                </tr>
              </tbody>
            </table>
            <div class="flex-box">
                <div class="flex-box-1">
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            Select region from dropdown
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                            {{#each regoins}}
                                <li><a href="{{pathFor route='region' query='regionName='}}{{object_name}}">{{object_name}}</a></li>
                            {{/each}}
                        </ul>
                    </div>
                </div>
            </div>
            </div>
          </div>
        </div>

        <div class="cards-450 white flex-box-1">
          <div class="flex-box ">
            <div class="flex-box-1">
              <i class="material-icons">folder</i>
            </div>
            <div class="flex-box-2">
            <h3>Projects</h3>
            <table class="table table-striped">
              <tbody>
                <tr>
                  <th>Last Scanning</th>
                  <td> {{ projectItem.last_scanned }} </td>
                </tr>
                <tr>
                  <th>Number of Projects:</th>
                  <td> {{projectsCount}}</td>
                </tr>
              </tbody>
            </table>
            <div class="flex-box">
                <div class="flex-box-1">
                    <div class="dropdown">
                        <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
                            Select project from dropdown
                            <span class="caret"></span>
                        </button>
                        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
                            {{#each projects}}
                                <li><a href="{{pathFor route='project' query='projectName='}}{{object_name}}">{{object_name}}</a></li>
                            {{/each}}
                        </ul>
                    </div>

                </div>
            </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</template>
