{"version":3,"sources":["meteor://ðŸ’»app/packages/pcel_loading/packages/pcel_loading.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0H","file":"/packages/pcel_loading.js","sourcesContent":["(function () {\n\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                           //\n// packages/pcel:loading/lib/please-wait.js                                                                  //\n//                                                                                                           //\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                             //\n/**                                                                                                          // 1\n* Please Wait                                                                                                // 2\n* Display a nice loading screen while your app loads                                                         // 3\n                                                                                                             // 4\n* @author Pathgather <tech@pathgather.com>                                                                   // 5\n* @copyright Pathgather 2014                                                                                 // 6\n* @license MIT <http://opensource.org/licenses/mit-license.php>                                              // 7\n* @link https://github.com/Pathgather/please-wait                                                            // 8\n* @module pleaseWait                                                                                         // 9\n* @version 0.0.1                                                                                             // 10\n*/                                                                                                           // 11\n(function(root, factory) {                                                                                   // 12\n  if (typeof exports === \"object\") {                                                                         // 13\n    factory(exports);                                                                                        // 14\n  } else if (typeof define === \"function\" && define.amd) {                                                   // 15\n    define([\"exports\"], factory);                                                                            // 16\n  } else {                                                                                                   // 17\n    factory(root);                                                                                           // 18\n  }                                                                                                          // 19\n})(this, function(exports) {                                                                                 // 20\n  var PleaseWait, animationEvent, animationSupport, domPrefixes, elm, key, pfx, pleaseWait, transEndEventNames, transitionEvent, transitionSupport, val, _i, _len;\n  elm = document.createElement('fakeelement');                                                               // 22\n  animationSupport = false;                                                                                  // 23\n  transitionSupport = false;                                                                                 // 24\n  animationEvent = 'animationend';                                                                           // 25\n  transitionEvent = null;                                                                                    // 26\n  domPrefixes = 'Webkit Moz O ms'.split(' ');                                                                // 27\n  transEndEventNames = {                                                                                     // 28\n    'WebkitTransition': 'webkitTransitionEnd',                                                               // 29\n    'MozTransition': 'transitionend',                                                                        // 30\n    'OTransition': 'oTransitionEnd',                                                                         // 31\n    'msTransition': 'MSTransitionEnd',                                                                       // 32\n    'transition': 'transitionend'                                                                            // 33\n  };                                                                                                         // 34\n  for (key in transEndEventNames) {                                                                          // 35\n    val = transEndEventNames[key];                                                                           // 36\n    if (elm.style[key] != null) {                                                                            // 37\n      transitionEvent = val;                                                                                 // 38\n      transitionSupport = true;                                                                              // 39\n      break;                                                                                                 // 40\n    }                                                                                                        // 41\n  }                                                                                                          // 42\n  if (elm.style.animationName != null) {                                                                     // 43\n    animationSupport = true;                                                                                 // 44\n  }                                                                                                          // 45\n  if (!animationSupport) {                                                                                   // 46\n    for (_i = 0, _len = domPrefixes.length; _i < _len; _i++) {                                               // 47\n      pfx = domPrefixes[_i];                                                                                 // 48\n      if (elm.style[\"\" + pfx + \"AnimationName\"] != null) {                                                   // 49\n        switch (pfx) {                                                                                       // 50\n          case 'Webkit':                                                                                     // 51\n            animationEvent = 'webkitAnimationEnd';                                                           // 52\n            break;                                                                                           // 53\n          case 'Moz':                                                                                        // 54\n            animationEvent = 'animationend';                                                                 // 55\n            break;                                                                                           // 56\n          case 'O':                                                                                          // 57\n            animationEvent = 'oanimationend';                                                                // 58\n            break;                                                                                           // 59\n          case 'ms':                                                                                         // 60\n            animationEvent = 'MSAnimationEnd';                                                               // 61\n        }                                                                                                    // 62\n        animationSupport = true;                                                                             // 63\n        break;                                                                                               // 64\n      }                                                                                                      // 65\n    }                                                                                                        // 66\n  }                                                                                                          // 67\n  PleaseWait = (function() {                                                                                 // 68\n    PleaseWait._defaultOptions = {                                                                           // 69\n      backgroundColor: null,                                                                                 // 70\n      logo: null,                                                                                            // 71\n      loadingHtml: null,                                                                                     // 72\n      template: \"<div class='pg-loading-inner'>\\n  <div class='pg-loading-center-outer'>\\n    <div class='pg-loading-center-middle'>\\n      <h1 class='pg-loading-logo-header'>\\n        <img class='pg-loading-logo'></img>\\n      </h1>\\n      <div class='pg-loading-html'>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"\n    };                                                                                                       // 74\n                                                                                                             // 75\n    function PleaseWait(options) {                                                                           // 76\n      var defaultOptions, k, listener, v;                                                                    // 77\n      defaultOptions = this.constructor._defaultOptions;                                                     // 78\n      this.options = {};                                                                                     // 79\n      this.loaded = false;                                                                                   // 80\n      for (k in defaultOptions) {                                                                            // 81\n        v = defaultOptions[k];                                                                               // 82\n        this.options[k] = options[k] != null ? options[k] : v;                                               // 83\n      }                                                                                                      // 84\n      this._loadingElem = document.createElement(\"div\");                                                     // 85\n      this._loadingHtmlToDisplay = [];                                                                       // 86\n      this._loadingElem.className = \"pg-loading-screen\";                                                     // 87\n      if (this.options.backgroundColor != null) {                                                            // 88\n        this._loadingElem.style.backgroundColor = this.options.backgroundColor;                              // 89\n      }                                                                                                      // 90\n      this._loadingElem.innerHTML = this.options.template;                                                   // 91\n      this._loadingHtmlElem = this._loadingElem.getElementsByClassName(\"pg-loading-html\")[0];                // 92\n      if (this._loadingHtmlElem != null) {                                                                   // 93\n        this._loadingHtmlElem.innerHTML = this.options.loadingHtml;                                          // 94\n      }                                                                                                      // 95\n      this._readyToShowLoadingHtml = false;                                                                  // 96\n      this._logoElem = this._loadingElem.getElementsByClassName(\"pg-loading-logo\")[0];                       // 97\n      if (this._logoElem != null) {                                                                          // 98\n        this._logoElem.src = this.options.logo;                                                              // 99\n      }                                                                                                      // 100\n      document.body.className += \" pg-loading\";                                                              // 101\n      document.body.appendChild(this._loadingElem);                                                          // 102\n      this._loadingElem.className += \" pg-loading\";                                                          // 103\n      listener = (function(_this) {                                                                          // 104\n        return function() {                                                                                  // 105\n          _this.loaded = true;                                                                               // 106\n          _this._readyToShowLoadingHtml = true;                                                              // 107\n          _this._loadingHtmlElem.className += \" pg-loaded\";                                                  // 108\n          if (animationSupport) {                                                                            // 109\n            _this._loadingHtmlElem.removeEventListener(animationEvent, listener);                            // 110\n          }                                                                                                  // 111\n          if (_this._loadingHtmlToDisplay.length > 0) {                                                      // 112\n            return _this._changeLoadingHtml();                                                               // 113\n          }                                                                                                  // 114\n        };                                                                                                   // 115\n      })(this);                                                                                              // 116\n      if (this._loadingHtmlElem != null) {                                                                   // 117\n        if (animationSupport) {                                                                              // 118\n          this._loadingHtmlElem.addEventListener(animationEvent, listener);                                  // 119\n        } else {                                                                                             // 120\n          listener();                                                                                        // 121\n        }                                                                                                    // 122\n        this._loadingHtmlListener = (function(_this) {                                                       // 123\n          return function() {                                                                                // 124\n            _this._readyToShowLoadingHtml = true;                                                            // 125\n            _this._loadingHtmlElem.className = _this._loadingHtmlElem.className.replace(\" pg-loading \", \"\"); // 126\n            if (transitionSupport) {                                                                         // 127\n              _this._loadingHtmlElem.removeEventListener(transitionEvent, _this._loadingHtmlListener);       // 128\n            }                                                                                                // 129\n            if (_this._loadingHtmlToDisplay.length > 0) {                                                    // 130\n              return _this._changeLoadingHtml();                                                             // 131\n            }                                                                                                // 132\n          };                                                                                                 // 133\n        })(this);                                                                                            // 134\n        this._removingHtmlListener = (function(_this) {                                                      // 135\n          return function() {                                                                                // 136\n            _this._loadingHtmlElem.innerHTML = _this._loadingHtmlToDisplay.shift();                          // 137\n            _this._loadingHtmlElem.className = _this._loadingHtmlElem.className.replace(\" pg-removing \", \" pg-loading \");\n            if (transitionSupport) {                                                                         // 139\n              _this._loadingHtmlElem.removeEventListener(transitionEvent, _this._removingHtmlListener);      // 140\n              return _this._loadingHtmlElem.addEventListener(transitionEvent, _this._loadingHtmlListener);   // 141\n            } else {                                                                                         // 142\n              return _this._loadingHtmlListener();                                                           // 143\n            }                                                                                                // 144\n          };                                                                                                 // 145\n        })(this);                                                                                            // 146\n      }                                                                                                      // 147\n    }                                                                                                        // 148\n                                                                                                             // 149\n    PleaseWait.prototype.finish = function(immediately) {                                                    // 150\n      var listener;                                                                                          // 151\n      if (immediately == null) {                                                                             // 152\n        immediately = false;                                                                                 // 153\n      }                                                                                                      // 154\n      if (this._loadingElem == null) {                                                                       // 155\n        return;                                                                                              // 156\n      }                                                                                                      // 157\n      if (this.loaded || immediately) {                                                                      // 158\n        return this._finish();                                                                               // 159\n      } else {                                                                                               // 160\n        listener = (function(_this) {                                                                        // 161\n          return function() {                                                                                // 162\n            _this._loadingElem.removeEventListener(animationEvent, listener);                                // 163\n            return window.setTimeout(function() {                                                            // 164\n              return _this._finish();                                                                        // 165\n            }, 1);                                                                                           // 166\n          };                                                                                                 // 167\n        })(this);                                                                                            // 168\n        return this._loadingHtmlElem.addEventListener(animationEvent, listener);                             // 169\n      }                                                                                                      // 170\n    };                                                                                                       // 171\n                                                                                                             // 172\n    PleaseWait.prototype.updateOption = function(option, value) {                                            // 173\n      switch (option) {                                                                                      // 174\n        case 'backgroundColor':                                                                              // 175\n          return this._loadingElem.style.backgroundColor = value;                                            // 176\n        case 'logo':                                                                                         // 177\n          return this._logoElem.src = value;                                                                 // 178\n        case 'loadingHtml':                                                                                  // 179\n          return this.updateLoadingHtml(value);                                                              // 180\n        default:                                                                                             // 181\n          throw new Error(\"Unknown option '\" + option + \"'\");                                                // 182\n      }                                                                                                      // 183\n    };                                                                                                       // 184\n                                                                                                             // 185\n    PleaseWait.prototype.updateOptions = function(options) {                                                 // 186\n      var k, v, _results;                                                                                    // 187\n      if (options == null) {                                                                                 // 188\n        options = {};                                                                                        // 189\n      }                                                                                                      // 190\n      _results = [];                                                                                         // 191\n      for (k in options) {                                                                                   // 192\n        v = options[k];                                                                                      // 193\n        _results.push(this.updateOption(k, v));                                                              // 194\n      }                                                                                                      // 195\n      return _results;                                                                                       // 196\n    };                                                                                                       // 197\n                                                                                                             // 198\n    PleaseWait.prototype.updateLoadingHtml = function(loadingHtml, immediately) {                            // 199\n      if (immediately == null) {                                                                             // 200\n        immediately = false;                                                                                 // 201\n      }                                                                                                      // 202\n      if (this._loadingHtmlElem == null) {                                                                   // 203\n        throw new Error(\"The loading template does not have an element of class 'pg-loading-html'\");         // 204\n      }                                                                                                      // 205\n      if (immediately) {                                                                                     // 206\n        this._loadingHtmlToDisplay = [loadingHtml];                                                          // 207\n        this._readyToShowLoadingHtml = true;                                                                 // 208\n      } else {                                                                                               // 209\n        this._loadingHtmlToDisplay.push(loadingHtml);                                                        // 210\n      }                                                                                                      // 211\n      if (this._readyToShowLoadingHtml) {                                                                    // 212\n        return this._changeLoadingHtml();                                                                    // 213\n      }                                                                                                      // 214\n    };                                                                                                       // 215\n                                                                                                             // 216\n    PleaseWait.prototype._changeLoadingHtml = function() {                                                   // 217\n      this._readyToShowLoadingHtml = false;                                                                  // 218\n      this._loadingHtmlElem.removeEventListener(transitionEvent, this._loadingHtmlListener);                 // 219\n      this._loadingHtmlElem.removeEventListener(transitionEvent, this._removingHtmlListener);                // 220\n      this._loadingHtmlElem.className = this._loadingHtmlElem.className.replace(\" pg-loading \", \"\").replace(\" pg-removing \", \"\");\n      if (transitionSupport) {                                                                               // 222\n        this._loadingHtmlElem.className += \" pg-removing \";                                                  // 223\n        return this._loadingHtmlElem.addEventListener(transitionEvent, this._removingHtmlListener);          // 224\n      } else {                                                                                               // 225\n        return this._removingHtmlListener();                                                                 // 226\n      }                                                                                                      // 227\n    };                                                                                                       // 228\n                                                                                                             // 229\n    PleaseWait.prototype._finish = function() {                                                              // 230\n      var listener;                                                                                          // 231\n      document.body.className += \" pg-loaded\";                                                               // 232\n      listener = (function(_this) {                                                                          // 233\n        return function() {                                                                                  // 234\n          document.body.removeChild(_this._loadingElem);                                                     // 235\n          document.body.className = document.body.className.replace(\"pg-loading\", \"\");                       // 236\n          if (animationSupport) {                                                                            // 237\n            _this._loadingElem.removeEventListener(animationEvent, listener);                                // 238\n          }                                                                                                  // 239\n          return _this._loadingElem = null;                                                                  // 240\n        };                                                                                                   // 241\n      })(this);                                                                                              // 242\n      if (animationSupport) {                                                                                // 243\n        this._loadingElem.className += \" pg-loaded\";                                                         // 244\n        return this._loadingElem.addEventListener(animationEvent, listener);                                 // 245\n      } else {                                                                                               // 246\n        return listener();                                                                                   // 247\n      }                                                                                                      // 248\n    };                                                                                                       // 249\n                                                                                                             // 250\n    return PleaseWait;                                                                                       // 251\n                                                                                                             // 252\n  })();                                                                                                      // 253\n  pleaseWait = function(options) {                                                                           // 254\n    if (options == null) {                                                                                   // 255\n      options = {};                                                                                          // 256\n    }                                                                                                        // 257\n    return new PleaseWait(options);                                                                          // 258\n  };                                                                                                         // 259\n  exports.pleaseWait = pleaseWait;                                                                           // 260\n  return pleaseWait;                                                                                         // 261\n});                                                                                                          // 262\n                                                                                                             // 263\n///////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}).call(this);\n"]}