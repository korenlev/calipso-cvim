[{"type":"js","data":"/* Imports for global scope */\n\nMongoInternals = Package.mongo.MongoInternals;\nMongo = Package.mongo.Mongo;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nECMAScript = Package.ecmascript.ECMAScript;\nHTTP = Package.http.HTTP;\nHTTPInternals = Package.http.HTTPInternals;\nRouter = Package['iron:router'].Router;\nRouteController = Package['iron:router'].RouteController;\nTHREE = Package['limemakers:three'].THREE;\nActiveRoute = Package['zimme:active-route'].ActiveRoute;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nmain = Package.webapp.main;\nWebAppInternals = Package.webapp.WebAppInternals;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nDDPServer = Package['ddp-server'].DDPServer;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nIron = Package['iron:core'].Iron;\nAccounts = Package['accounts-base'].Accounts;\nAutoupdate = Package.autoupdate.Autoupdate;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"lib\":{\"collections.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// lib/collections.js                                                                                      //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nInventory = new Mongo.Collection(\"inventory\");                                                             // 1\nCliques = new Mongo.Collection(\"cliques\");                                                                 // 2\nLinks = new Mongo.Collection(\"links\");                                                                     // 3\nEnvironments = new Mongo.Collection(\"environments_config\");                                                // 4\nNodeHoverAttr = new Mongo.Collection(\"attributes_for_hover_on_data\");                                      // 5\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"router.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// lib/router.js                                                                                           //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\n/**                                                                                                        //\n * Created by oashery on 3/2/2016.                                                                         //\n */                                                                                                        //\n                                                                                                           //\nif (Meteor.isClient) {                                                                                     // 5\n    Accounts.onLogin(function () {                                                                         // 6\n        Router.go('/home');                                                                                // 7\n    });                                                                                                    //\n                                                                                                           //\n    Accounts.onLogout(function () {                                                                        // 10\n        Router.go('/');                                                                                    // 11\n    });                                                                                                    //\n}                                                                                                          //\n                                                                                                           //\nRouter.configure({                                                                                         // 15\n    layoutTemplate: 'main',                                                                                // 16\n    loadingTemplate: 'loading'                                                                             // 17\n});                                                                                                        //\n                                                                                                           //\nRouter.route('/', {                                                                                        // 20\n    name: 'landing',                                                                                       // 21\n    path: '/',                                                                                             // 22\n    action: function () {                                                                                  // 23\n        function action() {                                                                                // 23\n            if (Meteor.userId()) {                                                                         // 24\n                Router.go('/home');                                                                        // 25\n            }                                                                                              //\n            if (this.ready()) this.render('landing');else this.render('loading');                          // 27\n        }                                                                                                  //\n                                                                                                           //\n        return action;                                                                                     //\n    }()                                                                                                    //\n});                                                                                                        //\n                                                                                                           //\nRouter.route('home', {                                                                                     // 34\n    path: '/home',                                                                                         // 35\n    waitOn: function () {                                                                                  // 36\n        function waitOn() {                                                                                // 36\n            return Meteor.subscribe('inventory');                                                          // 37\n        }                                                                                                  //\n                                                                                                           //\n        return waitOn;                                                                                     //\n    }(),                                                                                                   //\n    action: function () {                                                                                  // 39\n        function action() {                                                                                // 39\n            if (this.ready()) {                                                                            // 40\n                                                                                                           //\n                this.state.set('envName', this.params.query.env);                                          // 42\n                /*                                                                                         //\n                            if(query){                                                                     //\n                                    //return Inventory.find({$where: \"this.id_path.match('^/WebEX-Mirantis@Cisco/')\"});\n                                    console.log(query);                                                    //\n                                    this.render('home', {                                                  //\n                                        data: function () {                                                //\n                                            return Inventory.find({environment: query, parent_id: query});\n                                        }                                                                  //\n                                    });                                                                    //\n                                    //                                                                     //\n                            }                                                                              //\n                */                                                                                         //\n                                                                                                           //\n                // if the sub handle returned from waitOn ready() method returns                           //\n                // true then we're ready to go ahead and render the page.                                  //\n                this.render('home');                                                                       // 40\n            } else {                                                                                       //\n                // otherwise render the loading template.                                                  //\n                this.render('loading');                                                                    // 63\n            }                                                                                              //\n        }                                                                                                  //\n                                                                                                           //\n        return action;                                                                                     //\n    }()                                                                                                    //\n});                                                                                                        //\n                                                                                                           //\nRouter.route('landingpage', {                                                                              // 68\n    name: 'landingpage',                                                                                   // 69\n    path: '/landing'                                                                                       // 70\n});                                                                                                        //\n                                                                                                           //\nRouter.route('d3plusgraph', {                                                                              // 73\n    path: '/d3plus'                                                                                        // 74\n});                                                                                                        //\n                                                                                                           //\nRouter.route('threeTest', {                                                                                // 77\n    path: '/three'                                                                                         // 78\n});                                                                                                        //\n                                                                                                           //\nRouter.route('threeTest2', {                                                                               // 81\n    path: '/three2'                                                                                        // 82\n});                                                                                                        //\n                                                                                                           //\nRouter.route('wizard', {                                                                                   // 85\n    name: 'wizard',                                                                                        // 86\n    path: '/wizard'                                                                                        // 87\n});                                                                                                        //\n                                                                                                           //\nRouter.route('dashboard', {                                                                                // 90\n    name: 'dashboard',                                                                                     // 91\n    path: '/dashboard'                                                                                     // 92\n});                                                                                                        //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"server\":{\"methods.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// server/methods.js                                                                                       //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nMeteor.methods({});                                                                                        // 1\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n},\"publications.js\":function(){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// server/publications.js                                                                                  //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\nMeteor.publish(\"inventory\", function () {                                                                  // 1\n    //return Inventory.find({$where: \"this.id_path.match('^/WebEX-Mirantis@Cisco/')\"});                    //\n    //return Inventory.find({ \"show_in_tree\": true });                                                     //\n    return Inventory.find({});                                                                             // 4\n});                                                                                                        //\nMeteor.publish(\"environments_config\", function () {                                                        // 6\n    return Environments.find({ type: \"environment\" });                                                     // 7\n});                                                                                                        //\nMeteor.publish(\"cliques\", function () {                                                                    // 9\n    //return Inventory.find({$where: \"this.id_path.match('^/WebEX-Mirantis@Cisco/')\"});                    //\n    return Cliques.find({});                                                                               // 11\n});                                                                                                        //\nMeteor.publish(\"links\", function () {                                                                      // 13\n    //return Inventory.find({$where: \"this.id_path.match('^/WebEX-Mirantis@Cisco/')\"});                    //\n    return Links.find({});                                                                                 // 15\n});                                                                                                        //\nMeteor.publish(\"attributes_for_hover_on_data\", function () {                                               // 17\n    //return Inventory.find({$where: \"this.id_path.match('^/WebEX-Mirantis@Cisco/')\"});                    //\n    return NodeHoverAttr.find({});                                                                         // 19\n});                                                                                                        //\n/*                                                                                                         //\nMeteor.publish(\"nodesList\", function (nodeId) {                                                            //\n    return Inventory.find({ \"type\": \"instance\", $and: [ { \"id\": nodeId } ] }[\"Entities\"]);                 //\n});                                                                                                        //\nMeteor.publish(\"edgesList\", function (nodeId) {                                                            //\n    return Inventory.find({ \"type\": \"instance\", $and: [ { \"id\": nodeId } ] }[\"Relations\"]);                //\n});                                                                                                        //\n*/                                                                                                         //\nMeteor.startup(function () {                                                                               // 29\n    // code to run on server at startup                                                                    //\n});                                                                                                        //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}},\"osdna_new.js\":[\"webcola\",function(require){\n\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                         //\n// osdna_new.js                                                                                            //\n//                                                                                                         //\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                           //\ncola = require('webcola');                                                                                 // 1\n/////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]},{\"extensions\":[\".js\",\".json\"]});\nrequire(\"./lib/collections.js\");\nrequire(\"./lib/router.js\");\nrequire(\"./server/methods.js\");\nrequire(\"./server/publications.js\");\nrequire(\"./osdna_new.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["/lib/collections.js","/lib/router.js","/server/methods.js","/server/publications.js","/osdna_new.js"],"names":[],"mappings":"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","file":"/app.js","sourcesContent":["Inventory = new Mongo.Collection(\"inventory\");\r\nCliques = new Mongo.Collection(\"cliques\");\r\nLinks = new Mongo.Collection(\"links\");\r\nEnvironments = new Mongo.Collection(\"environments_config\");\r\nNodeHoverAttr = new Mongo.Collection(\"attributes_for_hover_on_data\");\r\n","/**\r\n * Created by oashery on 3/2/2016.\r\n */\r\n\r\nif (Meteor.isClient){\r\n  Accounts.onLogin(function () {\r\n    Router.go('/home');\r\n  });\r\n\r\n  Accounts.onLogout(function () {\r\n    Router.go('/');\r\n  });\r\n}\r\n\r\nRouter.configure({\r\n    layoutTemplate: 'main',\r\n    loadingTemplate: 'loading'\r\n});\r\n\r\nRouter.route('/', {\r\n    name: 'landing',\r\n    path: '/',\r\n    action: function () {\r\n        if (Meteor.userId()) {\r\n            Router.go('/home');\r\n        }\r\n        if (this.ready())\r\n            this.render('landing');\r\n        else\r\n            this.render('loading');\r\n    }\r\n});\r\n\r\nRouter.route('home', {\r\n    path: '/home',\r\n    waitOn: function () {\r\n        return Meteor.subscribe('inventory');\r\n    },\r\n    action: function () {\r\n        if (this.ready()){\r\n\r\n            this.state.set('envName', this.params.query.env);\r\n            /*\r\n                        if(query){\r\n                                //return Inventory.find({$where: \"this.id_path.match('^/WebEX-Mirantis@Cisco/')\"});\r\n                                console.log(query);\r\n                                this.render('home', {\r\n                                    data: function () {\r\n                                        return Inventory.find({environment: query, parent_id: query});\r\n                                    }\r\n                                });\r\n                                //\r\n                        }\r\n            */\r\n\r\n        // if the sub handle returned from waitOn ready() method returns\r\n        // true then we're ready to go ahead and render the page.\r\n            this.render('home');\r\n\r\n        }\r\n        else{\r\n            // otherwise render the loading template.\r\n            this.render('loading');\r\n        }\r\n    }\r\n});\r\n\r\nRouter.route('landingpage', {\r\n    name: 'landingpage',\r\n    path: '/landing'\r\n});\r\n\r\nRouter.route('d3plusgraph', {\r\n    path: '/d3plus'\r\n});\r\n\r\nRouter.route('threeTest', {\r\n    path: '/three',\r\n});\r\n\r\nRouter.route('threeTest2', {\r\n    path: '/three2',\r\n});\r\n\r\nRouter.route('wizard', {\r\n    name: 'wizard',\r\n    path: '/wizard'\r\n});\r\n\r\nRouter.route('dashboard', {\r\n    name: 'dashboard',\r\n    path: '/dashboard'\r\n});\r\n","Meteor.methods({\r\n});","Meteor.publish(\"inventory\", function () {\r\n    //return Inventory.find({$where: \"this.id_path.match('^/WebEX-Mirantis@Cisco/')\"});\r\n    //return Inventory.find({ \"show_in_tree\": true });\r\n    return Inventory.find({});\r\n});\r\nMeteor.publish(\"environments_config\", function () {\r\n    return Environments.find({type:\"environment\"});\r\n});\r\nMeteor.publish(\"cliques\", function () {\r\n    //return Inventory.find({$where: \"this.id_path.match('^/WebEX-Mirantis@Cisco/')\"});\r\n    return Cliques.find({});\r\n});\r\nMeteor.publish(\"links\", function () {\r\n    //return Inventory.find({$where: \"this.id_path.match('^/WebEX-Mirantis@Cisco/')\"});\r\n    return Links.find({});\r\n});\r\nMeteor.publish(\"attributes_for_hover_on_data\", function () {\r\n    //return Inventory.find({$where: \"this.id_path.match('^/WebEX-Mirantis@Cisco/')\"});\r\n    return NodeHoverAttr.find({});\r\n});\r\n/*\r\nMeteor.publish(\"nodesList\", function (nodeId) {\r\n    return Inventory.find({ \"type\": \"instance\", $and: [ { \"id\": nodeId } ] }[\"Entities\"]);\r\n});\r\nMeteor.publish(\"edgesList\", function (nodeId) {\r\n    return Inventory.find({ \"type\": \"instance\", $and: [ { \"id\": nodeId } ] }[\"Relations\"]);\r\n});\r\n*/\r\nMeteor.startup(function () {\r\n    // code to run on server at startup\r\n});\r\n","cola = require('webcola');"]}}]