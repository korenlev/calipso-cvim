{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":[],"specifiers":[]}}},"options":{"filename":"/lib/router.js","filenameRelative":"/lib/router.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],{"allowTopLevelThis":true,"strict":false,"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/lib/router.js.map","sourceFileName":"/lib/router.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"router"},"ignored":false,"code":"/* Created by oashery on 3/2/2016. Modified by sisakov on 9/7/2016*/\n\nif (Meteor.isClient) {\n    Accounts.onLogin(function () {\n        Router.go('/dashboard');\n    });\n\n    Accounts.onLogout(function () {\n        Router.go('/');\n    });\n}\n\nRouter.configure({\n    layoutTemplate: 'main',\n    loadingTemplate: 'loading'\n});\n\nRouter.route('/', {\n    name: 'landing',\n    path: '/',\n    action: function () {\n        function action() {\n            if (Meteor.userId()) {\n                Router.go('/dashboard');\n            }\n            if (this.ready()) this.render('landing');else this.render('loading');\n        }\n\n        return action;\n    }()\n});\n\nRouter.route('home', {\n    path: '/home',\n    waitOn: function () {\n        function waitOn() {\n            return Meteor.subscribe('inventory');\n        }\n\n        return waitOn;\n    }(),\n    action: function () {\n        function action() {\n            if (this.ready()) {\n\n                this.state.set('envName', this.params.query.env);\n                /*\r\n                            if(query){\r\n                                    //return Inventory.find({$where: \"this.id_path.match('^/WebEX-Mirantis@Cisco/')\"});\r\n                                    console.log(query);\r\n                                    this.render('home', {\r\n                                        data: function () {\r\n                                            return Inventory.find({environment: query, parent_id: query});\r\n                                        }\r\n                                    });\r\n                                    //\r\n                            }\r\n                */\n\n                // if the sub handle returned from waitOn ready() method returns\n                // true then we're ready to go ahead and render the page.\n                this.render('home');\n            } else {\n                this.render('loading');\n            }\n        }\n\n        return action;\n    }()\n});\n\nRouter.route('getstarted', {\n    name: 'getstarted',\n    path: '/getstarted'\n});\n\nRouter.route('wizard', {\n    name: 'wizard',\n    path: '/wizard'\n});\n\nRouter.route('dashboard', {\n    name: 'dashboard',\n    path: '/dashboard'\n});\n\nRouter.route('enviroment', {\n    name: 'enviroment',\n    path: '/enviroment'\n});\n\nRouter.route('region', {\n    name: 'region',\n    path: '/region'\n});\n\n// Router.route('d3plusgraph', {\n//     path: '/d3plus'\n// });\n\n// Router.route('threeTest', {\n//     path: '/three',\n// });\n\n// Router.route('threeTest2', {\n//     path: '/three2',\n// });","ast":null,"map":{"version":3,"sources":["/lib/router.js"],"names":[],"mappings":";;AAEA,IAAI,OAAO,QAAP,EAAgB;AAClB,aAAS,OAAT,CAAiB,YAAY;AAC3B,eAAO,EAAP,CAAU,YAAV,EAD2B;KAAZ,CAAjB,CADkB;;AAKlB,aAAS,QAAT,CAAkB,YAAY;AAC5B,eAAO,EAAP,CAAU,GAAV,EAD4B;KAAZ,CAAlB,CALkB;CAApB;;AAUA,OAAO,SAAP,CAAiB;AACb,oBAAgB,MAAhB;AACA,qBAAiB,SAAjB;CAFJ;;AAKA,OAAO,KAAP,CAAa,GAAb,EAAkB;AACd,UAAM,SAAN;AACA,UAAM,GAAN;AACA;AAAQ,0BAAY;AAChB,gBAAI,OAAO,MAAP,EAAJ,EAAqB;AACjB,uBAAO,EAAP,CAAU,YAAV,EADiB;aAArB;AAGA,gBAAI,KAAK,KAAL,EAAJ,EACI,KAAK,MAAL,CAAY,SAAZ,EADJ,KAGI,KAAK,MAAL,CAAY,SAAZ,EAHJ;SAJI;;;OAAR;CAHJ;;AAcA,OAAO,KAAP,CAAa,MAAb,EAAqB;AACjB,UAAM,OAAN;AACA;AAAQ,0BAAY;AAChB,mBAAO,OAAO,SAAP,CAAiB,WAAjB,CAAP,CADgB;SAAZ;;;OAAR;AAGA;AAAQ,0BAAY;AAChB,gBAAI,KAAK,KAAL,EAAJ,EAAiB;;AAEb,qBAAK,KAAL,CAAW,GAAX,CAAe,SAAf,EAA0B,KAAK,MAAL,CAAY,KAAZ,CAAkB,GAAlB,CAA1B;;;;;;;;;;;;;;;;AAFa,oBAkBb,CAAK,MAAL,CAAY,MAAZ,EAlBa;aAAjB,MAqBI;AACA,qBAAK,MAAL,CAAY,SAAZ,EADA;aArBJ;SADI;;;OAAR;CALJ;;AAiCA,OAAO,KAAP,CAAa,YAAb,EAA2B;AACvB,UAAM,YAAN;AACA,UAAM,aAAN;CAFJ;;AAKA,OAAO,KAAP,CAAa,QAAb,EAAuB;AACnB,UAAM,QAAN;AACA,UAAM,SAAN;CAFJ;;AAKA,OAAO,KAAP,CAAa,WAAb,EAA0B;AACtB,UAAM,WAAN;AACA,UAAM,YAAN;CAFJ;;AAKA,OAAO,KAAP,CAAa,YAAb,EAA2B;AACvB,UAAM,YAAN;AACA,UAAM,aAAN;CAFJ;;AAKA,OAAO,KAAP,CAAa,QAAb,EAAuB;AACnB,UAAM,QAAN;AACA,UAAM,SAAN;CAFJ","file":"/lib/router.js.map","sourcesContent":["/* Created by oashery on 3/2/2016. Modified by sisakov on 9/7/2016*/\r\n\r\nif (Meteor.isClient){\r\n  Accounts.onLogin(function () {\r\n    Router.go('/dashboard');\r\n  });\r\n\r\n  Accounts.onLogout(function () {\r\n    Router.go('/');\r\n  });\r\n}\r\n\r\nRouter.configure({\r\n    layoutTemplate: 'main',\r\n    loadingTemplate: 'loading'\r\n});\r\n\r\nRouter.route('/', {\r\n    name: 'landing',\r\n    path: '/',\r\n    action: function () {\r\n        if (Meteor.userId()) {\r\n            Router.go('/dashboard');\r\n        }\r\n        if (this.ready())\r\n            this.render('landing');\r\n        else\r\n            this.render('loading');\r\n    }\r\n});\r\n\r\nRouter.route('home', {\r\n    path: '/home',\r\n    waitOn: function () {\r\n        return Meteor.subscribe('inventory');\r\n    },\r\n    action: function () {\r\n        if (this.ready()){\r\n\r\n            this.state.set('envName', this.params.query.env);\r\n            /*\r\n                        if(query){\r\n                                //return Inventory.find({$where: \"this.id_path.match('^/WebEX-Mirantis@Cisco/')\"});\r\n                                console.log(query);\r\n                                this.render('home', {\r\n                                    data: function () {\r\n                                        return Inventory.find({environment: query, parent_id: query});\r\n                                    }\r\n                                });\r\n                                //\r\n                        }\r\n            */\r\n\r\n        // if the sub handle returned from waitOn ready() method returns\r\n        // true then we're ready to go ahead and render the page.\r\n            this.render('home');\r\n\r\n        }\r\n        else{\r\n            this.render('loading');\r\n        }\r\n    }\r\n});\r\n\r\nRouter.route('getstarted', {\r\n    name: 'getstarted',\r\n    path: '/getstarted'\r\n});\r\n\r\nRouter.route('wizard', {\r\n    name: 'wizard',\r\n    path: '/wizard'\r\n});\r\n\r\nRouter.route('dashboard', {\r\n    name: 'dashboard',\r\n    path: '/dashboard'\r\n});\r\n\r\nRouter.route('enviroment', {\r\n    name: 'enviroment',\r\n    path: '/enviroment'\r\n});\r\n\r\nRouter.route('region', {\r\n    name: 'region',\r\n    path: '/region'\r\n});\r\n\r\n\r\n\r\n// Router.route('d3plusgraph', {\r\n//     path: '/d3plus'\r\n// });\r\n\r\n// Router.route('threeTest', {\r\n//     path: '/three',\r\n// });\r\n\r\n// Router.route('threeTest2', {\r\n//     path: '/three2',\r\n// });"]},"hash":"43efa63b48bfefae1984e1c4d2e85f9653da14e3"}
